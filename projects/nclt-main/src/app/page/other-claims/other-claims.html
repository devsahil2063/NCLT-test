<div class="p-2 bg-gray-50 min-h-screen">
    <div class="bg-white rounded-lg shadow-sm p-6">
        <!-- Header -->
        <div class="flex items-center justify-between">
            <div>
                <h2 class="text-xl font-semibold text-gray-900">Other Claims</h2>
                <p class="text-sm text-gray-500 mt-1">List of other claims not categorized as FC or OC</p>
            </div>
            <p-button label="Add Other Claim" icon="pi pi-plus" severity="danger" (click)="openAddDialog()"
                class="text-sm" />
        </div>

    </div>
    <!-- Table -->
    <p-table [value]="claims" [tableStyle]="{ 'min-width': '100%' }" showGridlines class="mt-6 other-claims-table">
        <ng-template pTemplate="header">
            <tr>
                <th class="text-left">Sr. No</th>
                <th class="text-left">Claim Others</th>
                <th class="text-left">Admitted Claim Amount</th>
                <th class="text-left">% Share</th>
                <th class="text-left">Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-claim>
            <tr>
                <td>{{ claim.srNo }}</td>
                <td>{{ claim.claimType }}</td>
                <td>â‚¹{{ claim.admittedAmount | number: '1.2-2' }}</td>
                <td>{{ claim.sharePercentage | number: '1.2-2' }}%</td>
                <td>
                    <div class="flex items-center gap-2">
                        <button (click)="openEditDialog(claim)" class="p-2 hover:bg-gray-100 rounded transition-colors"
                            title="Edit">
                            <i class="pi pi-pencil text-gray-600"></i>
                        </button>
                        <button (click)="deleteClaim(claim)" class="p-2 hover:bg-red-50 rounded transition-colors"
                            title="Delete">
                            <i class="pi pi-trash text-red-500"></i>
                        </button>
                    </div>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="5" class="text-center text-gray-500 py-8">
                    No other claims added yet. Click "Add Other Claim" to get started.
                </td>
            </tr>
        </ng-template>
    </p-table>

    <!-- Add/Edit Other Claim Dialog -->
    <p-dialog [header]="editMode ? 'Edit Other Claim' : 'Add Other Claim'" [(visible)]="showDialog" [modal]="true"
        [closable]="true" [style]="{ width: '700px' }" [draggable]="false" [resizable]="false">
        <p class="text-gray-600 text-sm mb-6">
            {{ editMode ? 'Update the other claim information' : 'Fill in the other claim information' }}
        </p>

        <div class="flex flex-col gap-4">
            <!-- Claim Type -->
            <div class="flex flex-col gap-2">
                <label class="text-gray-900 font-medium text-sm">
                    Claim Type <span class="text-red-500">*</span>
                </label>
                <input type="text" pSize="small" pInputText [(ngModel)]="formData.claimType"
                    placeholder="Enter claim type (e.g., Workmen Dues, Government Dues)" class="w-full" />
            </div>

            <!-- Admitted Claim Amount -->
            <div class="flex flex-col gap-2">
                <label class="text-gray-900 font-medium text-sm">
                    Admitted Claim Amount <span class="text-red-500">*</span>
                </label>
                <p-inputnumber [(ngModel)]="formData.admittedAmount" size="small" mode="currency" currency="INR"
                    locale="en-IN" placeholder="Enter admitted amount" class="w-full" />
            </div>
        </div>

        <ng-template pTemplate="footer">
            <div class="flex justify-end gap-3 mt-4">
                <p-button label="Cancel" [outlined]="true" severity="secondary" (click)="closeDialog()"
                    class="text-sm" />
                <p-button [label]="editMode ? 'Update Claim' : 'Add Claim'" icon="pi pi-check" severity="danger"
                    (click)="saveClaim()" [disabled]="!isFormValid()" class="text-sm" />
            </div>
        </ng-template>
    </p-dialog>
</div>